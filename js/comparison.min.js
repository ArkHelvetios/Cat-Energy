const comparison=document.querySelector(".comparison"),picInner=comparison.querySelector(".comparison__picture-inner"),picItems=comparison.querySelectorAll(".comparison__picture"),btnBefore=comparison.querySelector(".comparison__button--before"),btnAfter=comparison.querySelector(".comparison__button--after"),compToggle=comparison.querySelector(".comparison__toggle"),compRange=comparison.querySelector(".comparison__range"),tabletWidth=768,tabletMediaQuery=window.matchMedia("(min-width: 768px)");tabletMediaQuery.addEventListener("change",(()=>{tabletMediaQuery.matches&&(picInner.style.transform="translateX(0%)",compToggle.style.transform="translateX(0%)")})),picItems.forEach(((e,t)=>{e.querySelector(".comparison__image").addEventListener("dragstart",(e=>e.preventDefault())),e.addEventListener("pointerdown",pointerDown(t)),e.addEventListener("pointermove",pointerMove),e.addEventListener("pointerup",pointerUp),e.addEventListener("pointerleave",pointerUp)})),btnBefore.addEventListener("click",(()=>{tabletMediaQuery.matches?(picItems[0].style.width="100%",picItems[1].style.width="0%",compRange.value=0):(currentIndex=0,offset=currentIndex*window.innerWidth*-1,initialPosition=offset,picInner.style.transform=`translateX(${100*currentIndex*-1}%)`,compToggle.style.transform=`translateX(${100*currentIndex}%)`)})),btnAfter.addEventListener("click",(()=>{tabletMediaQuery.matches?(picItems[0].style.width="0%",picItems[1].style.width="100%",compRange.value=100):(currentIndex=picItems.length-1,offset=currentIndex*window.innerWidth*-1,initialPosition=offset,picInner.style.transform=`translateX(${100*currentIndex*-1}%)`,compToggle.style.transform=`translateX(${100*currentIndex}%)`)})),compRange.addEventListener("input",(()=>{picItems[0].style.width=100-compRange.value+"%",picItems[1].style.width=`${compRange.value}%`}));let isPressed=!1,initialTouch=0,initialPosition=0,currentIndex=0,offset=0;function pointerDown(e){return t=>{isPressed=!0,initialTouch=t.clientX,tabletMediaQuery.matches||(currentIndex=e,picInner.classList.add("comparison__picture-inner--touched"))}}function pointerMove(e){if(!isPressed)return;const t=e.clientX;tabletMediaQuery.matches||(offset=initialPosition+t-initialTouch,offset=parseInt(offset),picInner.style.transform=`translateX(${offset}px)`)}function pointerUp(){if(isPressed=!1,!tabletMediaQuery.matches){const e=offset-initialPosition;e<-50&&currentIndex<picItems.length-1&&currentIndex++,e>50&&currentIndex>0&&currentIndex--,offset=currentIndex*window.innerWidth*-1,initialPosition=offset,picInner.style.transform=`translateX(${100*currentIndex*-1}%)`,compToggle.style.transform=`translateX(${100*currentIndex}%)`}picInner.classList.remove("comparison__picture-inner--touched")}